!function(){return function e(t,i,a){function s(o,l){if(!i[o]){if(!t[o]){var r="function"==typeof require&&require;if(!l&&r)return r(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};t[o][0].call(c.exports,function(e){return s(t[o][1][e]||e)},c,c.exports,e,t,i,a)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<a.length;o++)s(a[o]);return s}}()({1:[function(e,t,i){"use strict";mejs.i18n.en["mejs.quality-chooser"]="Quality Chooser",Object.assign(mejs.MepDefaults,{defaultQuality:"auto",qualityText:null,autoGenerate:!1,autoDash:!1,autoHLS:!1,qualityChangeCallback:null}),Object.assign(MediaElementPlayer.prototype,{buildquality:function(e,t,i,a){for(var s=this,n=s.mediaFiles?s.mediaFiles:s.node.children,o=new Map,l=0,r=n.length;l<r;l++){var u=n[l],c=u instanceof HTMLElement?u.getAttribute("data-quality"):u["data-quality"];if("undefined"===c&&(c="Auto",s.options.autoGenerate=!0),s.mediaFiles){var d=document.createElement("source");d.src=u.src,d.type=u.type,s.addValueToKey(o,c,d)}else"SOURCE"===u.nodeName&&s.addValueToKey(o,c,u)}if(!(o.size<=1)){var f=0;a.addEventListener("error",function(e){if("No renderer found"===e.message&&o.get("").length>f+1){f+=1;var t=o.get("")[f].src;a.setSrc(t),a.load()}}),a.addEventListener("loadedmetadata",function(){if(a.hlsPlayer){var t=a.hlsPlayer.levels;s.options.autoGenerate&&t.length>1&&(t.forEach(function(e){var t=e.height,i=s.getQualityFromHeight(t);s.addValueToKey(o,i,"")}),s.options.autoHLS=!0,s.generateQualityButton(s,e,a,o,""))}else if(a.dashPlayer){var i=a.dashPlayer.getBitrateInfoListFor("video");s.options.autoGenerate&&i.length>1&&(i.forEach(function(e){var t=e.height,i=s.getQualityFromHeight(t);s.addValueToKey(o,i,"")}),s.options.autoDash=!0,s.generateQualityButton(s,e,a,o,""))}}),s.generateQualityButton(s,e,a,o,"")}},generateQualityButton:function(e,t,i,a,s){e.cleanquality(t);var n=mejs.Utils.isString(e.options.qualityText)?e.options.qualityText:mejs.i18n.t("mejs.quality-chooser"),o=function(t){var i=void 0;i="auto"===t?e.keyExist(a,t)?t:e.getMapIndex(a,0).key:t;return i}(e.options.defaultQuality);s=o,t.qualitiesButton=document.createElement("div"),t.qualitiesButton.className=e.options.classPrefix+"button "+e.options.classPrefix+"qualities-button",t.qualitiesButton.innerHTML='<button type="button" aria-controls="'+e.id+'" title="'+n+'" aria-label="'+n+'" tabindex="0">'+o+'</button><div class="'+e.options.classPrefix+"qualities-selector "+e.options.classPrefix+'offscreen"><ul class="'+e.options.classPrefix+'qualities-selector-list"></ul></div>',e.addControlElement(t.qualitiesButton,"qualities"),a.forEach(function(i,a){if("map_keys_1"!==a){var s=i[0],n=a,l=e.id+"-qualities-"+n;t.qualitiesButton.querySelector("ul").innerHTML+='<li class="'+e.options.classPrefix+'qualities-selector-list-item"><input class="'+e.options.classPrefix+'qualities-selector-input" type="radio" name="'+e.id+'_qualities"disabled="disabled" value="'+n+'" id="'+l+'"  '+(n===o?' checked="checked"':"")+'/><label for="'+l+'" class="'+e.options.classPrefix+"qualities-selector-label"+(n===o?" "+e.options.classPrefix+"qualities-selected":"")+'">'+(s.title||n)+"</label></li>"}});for(var l=["mouseenter","focusin"],r=["mouseleave","focusout"],u=t.qualitiesButton.querySelectorAll('input[type="radio"]'),c=t.qualitiesButton.querySelectorAll("."+e.options.classPrefix+"qualities-selector-label"),d=t.qualitiesButton.querySelector("."+e.options.classPrefix+"qualities-selector"),f=0,h=l.length;f<h;f++)t.qualitiesButton.addEventListener(l[f],function(){mejs.Utils.removeClass(d,e.options.classPrefix+"offscreen"),d.style.height=d.querySelector("ul").offsetHeight+"px",d.style.top=-1*parseFloat(d.offsetHeight)+"px"});for(var p=0,y=r.length;p<y;p++)t.qualitiesButton.addEventListener(r[p],function(){setTimeout(function(){mejs.Utils.addClass(d,e.options.classPrefix+"offscreen")},50)});for(var v=0,g=u.length;v<g;v++){var q=u[v];q.disabled=!1,q.addEventListener("change",function(n){var o=n.target.value;if(e.options.qualityChangeCallback&&e.options.qualityChangeCallback(i,i.originalNode,o,a.get(o),n),e.options.autoDash)e.updateQualityButton(this,t,s),e.switchDashQuality(t,i);else if(e.options.autoHLS)e.updateQualityButton(this,t,s),e.switchHLSQuality(t,i);else{e.updateQualityButton(this,t,s);var l=i.currentTime,r=i.paused;r||i.pause(),e.updateVideoSource(i,a,o),i.setSrc(a.get(o)[0].src),i.load(),i.dispatchEvent(mejs.Utils.createEvent("seeking",i)),r||i.play(),i.addEventListener("canplay",function e(){i.setCurrentTime(l),i.removeEventListener("canplay",e)})}})}for(var m=0,x=c.length;m<x;m++)c[m].addEventListener("click",function(){var e=mejs.Utils.siblings(this,function(e){return"INPUT"===e.tagName})[0],t=mejs.Utils.createEvent("click",e);e.dispatchEvent(t)});d.addEventListener("keydown",function(e){e.stopPropagation()})},cleanquality:function(e){e&&e.qualitiesButton&&e.qualitiesButton.remove()},addValueToKey:function(e,t,i){e.has("map_keys_1")?e.get("map_keys_1").push(t):e.set("map_keys_1",[]),e.has(t)?e.get(t).push(i):(e.set(t,[]),e.get(t).push(i))},updateVideoSource:function(e,t,i){this.cleanMediaSource(e);for(var a=t.get(i),s=function(t){var i=e.children[t];"VIDEO"===i.tagName&&a.forEach(function(e){i.appendChild(e)})},n=0;n<e.children.length;n++)s(n)},cleanMediaSource:function(e){for(var t=0;t<e.children.length;t++){var i=e.children[t];if("VIDEO"===i.tagName)for(;i.firstChild;)i.removeChild(i.firstChild)}},getMapIndex:function(e,t){var i=-1,a={};return e.forEach(function(e,s){i===t&&(a.key=s,a.value=e),i++}),a},keyExist:function(e,t){return-1<e.get("map_keys_1").indexOf(t)},switchDashQuality:function(e,t){for(var i=e.qualitiesButton.querySelectorAll('input[type="radio"]'),a=0;a<i.length;a++)i[a].checked&&(0===a?t.dashPlayer.setAutoSwitchQuality(!0):(t.dashPlayer.setAutoSwitchQuality(!1),t.dashPlayer.setQualityFor("video",a-1)))},switchHLSQuality:function(e,t){for(var i=e.qualitiesButton.querySelectorAll('input[type="radio"]'),a=0;a<i.length;a++)i[a].checked&&(t.hlsPlayer.currentLevel=0===a?-1:a-1)},updateQualityButton:function(e,t,i){var a=this,s=e.value;for(var n=t.qualitiesButton.querySelectorAll("."+a.options.classPrefix+"qualities-selected"),o=0,l=n.length;o<l;o++)mejs.Utils.removeClass(n[o],a.options.classPrefix+"qualities-selected");e.checked=!0;for(var r=mejs.Utils.siblings(e,function(e){return mejs.Utils.hasClass(e,a.options.classPrefix+"qualities-selector-label")}),u=0,c=r.length;u<c;u++)mejs.Utils.addClass(r[u],a.options.classPrefix+"qualities-selected");t.qualitiesButton.querySelector("button").innerHTML=s},getQualityFromHeight:function(e){return e>=4320?"8K UHD":e>=2160?"UHD":e>=1440?"QHD":e>=1080?"FHD":e>=720?"HD":"SD"}})},{}]},{},[1]);